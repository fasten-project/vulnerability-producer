{
  "url": "https://api.github.com/repos/expressjs/serve-static/issues/26",
  "repository_url": "https://api.github.com/repos/expressjs/serve-static",
  "labels_url": "https://api.github.com/repos/expressjs/serve-static/issues/26/labels{/name}",
  "comments_url": "https://api.github.com/repos/expressjs/serve-static/issues/26/comments",
  "events_url": "https://api.github.com/repos/expressjs/serve-static/issues/26/events",
  "html_url": "https://github.com/expressjs/serve-static/issues/26",
  "id": 53290123,
  "node_id": "MDU6SXNzdWU1MzI5MDEyMw==",
  "number": 26,
  "title": "Redirect to external website",
  "user": {
    "login": "pierre-elie",
    "id": 5923751,
    "node_id": "MDQ6VXNlcjU5MjM3NTE=",
    "avatar_url": "https://avatars3.githubusercontent.com/u/5923751?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/pierre-elie",
    "html_url": "https://github.com/pierre-elie",
    "followers_url": "https://api.github.com/users/pierre-elie/followers",
    "following_url": "https://api.github.com/users/pierre-elie/following{/other_user}",
    "gists_url": "https://api.github.com/users/pierre-elie/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/pierre-elie/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/pierre-elie/subscriptions",
    "organizations_url": "https://api.github.com/users/pierre-elie/orgs",
    "repos_url": "https://api.github.com/users/pierre-elie/repos",
    "events_url": "https://api.github.com/users/pierre-elie/events{/privacy}",
    "received_events_url": "https://api.github.com/users/pierre-elie/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 84358454,
      "node_id": "MDU6TGFiZWw4NDM1ODQ1NA==",
      "url": "https://api.github.com/repos/expressjs/serve-static/labels/bug",
      "name": "bug",
      "color": "fc2929",
      "default": true,
      "description": null
    }
  ],
  "state": "closed",
  "locked": true,
  "assignee": {
    "login": "dougwilson",
    "id": 67512,
    "node_id": "MDQ6VXNlcjY3NTEy",
    "avatar_url": "https://avatars3.githubusercontent.com/u/67512?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dougwilson",
    "html_url": "https://github.com/dougwilson",
    "followers_url": "https://api.github.com/users/dougwilson/followers",
    "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
    "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
    "organizations_url": "https://api.github.com/users/dougwilson/orgs",
    "repos_url": "https://api.github.com/users/dougwilson/repos",
    "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dougwilson/received_events",
    "type": "User",
    "site_admin": false
  },
  "assignees": [
    {
      "login": "dougwilson",
      "id": 67512,
      "node_id": "MDQ6VXNlcjY3NTEy",
      "avatar_url": "https://avatars3.githubusercontent.com/u/67512?v=4",
      "gravatar_id": "",
      "url": "https://api.github.com/users/dougwilson",
      "html_url": "https://github.com/dougwilson",
      "followers_url": "https://api.github.com/users/dougwilson/followers",
      "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
      "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
      "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
      "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
      "organizations_url": "https://api.github.com/users/dougwilson/orgs",
      "repos_url": "https://api.github.com/users/dougwilson/repos",
      "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
      "received_events_url": "https://api.github.com/users/dougwilson/received_events",
      "type": "User",
      "site_admin": false
    }
  ],
  "milestone": null,
  "comments": 10,
  "created_at": "2015-01-03T01:35:35Z",
  "updated_at": "2015-04-27T17:30:01Z",
  "closed_at": "2015-01-03T04:14:22Z",
  "author_association": "NONE",
  "active_lock_reason": null,
  "body": "Stumbled upon a weird behavior where `serve-static` would redirect to an external website when \"asked nicely\".\n## Reproduction Steps\n\nUsing `express 4.10.6` and `static-serve 1.7.1` on `node 0.10.33`.\n#### 1. Simple `app.js`\n\n``` js\nvar app = require('express')();\napp.use(require('serve-static')('assets'));\napp.listen(80);\n```\n#### 2. Start server\n\n``` sh\n$ sudo node app.js\n```\n#### 3. Open in Firefox `http://localhost//www.google.com/%2e%2e`\n##### Request\n\n``` http\nGET //www.google.com/%2e%2e HTTP/1.1\nHost: localhost\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.10; rv:33.0) Gecko/20100101 Firefox/33.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: fr,fr-fr;q=0.8,en-us;q=0.5,en;q=0.3\nAccept-Encoding: gzip, deflate\nConnection: keep-alive\n```\n##### Response\n\n``` http\nHTTP/1.1 303 See Other\nX-Powered-By: Express\nContent-Type: text/html; charset=utf-8\nLocation: //www.google.com/%2e%2e/\nDate: Sat, 03 Jan 2015 01:13:49 GMT\nConnection: keep-alive\nTransfer-Encoding: chunked\n\nRedirecting to <a href=\"//www.google.com/%2e%2e/\">//www.google.com/%2e%2e/</a>\n```\n#### 4. You get redirected to Google...\n\n---\n\nIt works in Firefox, Safari and probably IE, not in Chrome.\nSetting `static-serve`â€™s option `redirect: false` seems to fix it (but `redirect: true` is the default).\n\nIt looks like many applications could be affected. \nA quick test on apps listed on http://expressjs.com/resources/applications.html does not disappoint:\n- https://myspace.com//www.google.com/%2e%2e\n- https://www.learnboost.com//www.google.com/%2e%2e\n- https://geekli.st//www.google.com/%2e%2e\n- etc\n\n[`send`](https://github.com/tj/send) emits `directory` in that case, which [triggers the redirection](https://github.com/expressjs/serve-static/blob/master/index.js#L75-90).\n",
  "closed_by": {
    "login": "dougwilson",
    "id": 67512,
    "node_id": "MDQ6VXNlcjY3NTEy",
    "avatar_url": "https://avatars3.githubusercontent.com/u/67512?v=4",
    "gravatar_id": "",
    "url": "https://api.github.com/users/dougwilson",
    "html_url": "https://github.com/dougwilson",
    "followers_url": "https://api.github.com/users/dougwilson/followers",
    "following_url": "https://api.github.com/users/dougwilson/following{/other_user}",
    "gists_url": "https://api.github.com/users/dougwilson/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/dougwilson/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/dougwilson/subscriptions",
    "organizations_url": "https://api.github.com/users/dougwilson/orgs",
    "repos_url": "https://api.github.com/users/dougwilson/repos",
    "events_url": "https://api.github.com/users/dougwilson/events{/privacy}",
    "received_events_url": "https://api.github.com/users/dougwilson/received_events",
    "type": "User",
    "site_admin": false
  },
  "performed_via_github_app": null
}